**Rd. 912 (div.2)**
===

## [C: Theofanis' Nightmare](https://codeforces.com/contest/1903/problem/C)

<details>
  <summary>tags</summary>
  
    | suffix sum | greedy |

</details>

<details>
  <summary>solution</summary>
    
    The problem is actually like:
    
    arr:  a  b  c  d  e  f  g
         ---------------------
               ---------------
                  ------------
                           ---
    
    So all's about which suffixs to add.
    That is, add all positive suffixs.
    
</details>

<details>
  <summary>code</summary>

  ```c++
  #include <bits/stdc++.h>
  using namespace std;
  #define ll long long
  
  int main () {
      ios::sync_with_stdio(false); cin.tie(0);
      int t;  cin >> t;
      while (t--) {
          int n;  cin >> n;
          vector<ll> arr(n + 1), suffix(n + 2);
          for (int i = 1; i <= n; i++) cin >> arr[i];
          for (int i = n; i >= 1; i--) suffix[i] = suffix[i + 1] + arr[i];
          ll ans = suffix[1];
          for (int i = 2; i <= n; i++) 
              if (suffix[i] > 0) ans += suffix[i];
          cout << ans << '\n';
      }
  }
  ```

</details>

<br>

## [D1: Maximum And Queries (easy version)](https://codeforces.com/contest/1903/problem/D1)

<details>
  <summary>tags</summary>

    | greedy | brute force |
    
</details>

<details>
  <summary>solution</summary>

    From the 63th digit to the 0th digit, calculate the cost to make all elements' that digit on.
    And update every elements' value if modified.
  
</details>

<details>
  <summary>code</summary>

  ```c++
  #include <bits/stdc++.h>
  using namespace std;
  #define ll long long
  
  int main () {
      ios::sync_with_stdio(false); cin.tie(0);
      int n, q;  cin >> n >> q;
      vector<ll> ini(n), arr(n);
      for (int i = 0; i < n; i++) cin >> ini[i];
  
      while (q--) {
          arr = ini;
          ll k, ans = 0;  cin >> k;
          for (ll i = 61 - __lg(n); i >= 0; i--) {
              ll sum = 0, c = (1LL << i);
              for (int j = 0; j < n; j++) {
                  ll a = arr[j] & c, b = arr[j] % c;
                  if (a == 0) {
                      sum += c - b;
                  }
              }
              if (sum > k) continue;
              k -= sum;
              ans += 1LL << i;
              for (int j = 0; j < n; j++) {
                  ll a = arr[j] & c;
                  if (a == 0) arr[j] = 0;
                  else arr[j] %= c;
              }
          }
          cout << ans << '\n';
      }
  }

</details>

<br>

## [D2: Maximum And Queries (hard version)](https://codeforces.com/contest/1903/problem/D2)

